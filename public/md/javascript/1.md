# JavaScript ES6+ 现代特性详解

ES6（ES2015）及其后续版本为 JavaScript 带来了许多强大的新特性，本文将深入讲解这些现代特性的使用方法。

## 箭头函数

箭头函数提供了更简洁的函数语法，并且会自动绑定 `this`：

```javascript
// 传统函数
function add(a, b) {
  return a + b;
}

// 箭头函数
const add = (a, b) => a + b;

// 单个参数时可以省略括号
const square = x => x * x;

// 多行函数体需要大括号和 return
const complexFunction = (x, y) => {
  const sum = x + y;
  return sum * 2;
};
```

## 解构赋值

解构赋值让我们能够从数组或对象中提取值：

### 数组解构

```javascript
const numbers = [1, 2, 3, 4, 5];

// 基本解构
const [first, second] = numbers;
console.log(first, second); // 1, 2

// 跳过元素
const [a, , c] = numbers;
console.log(a, c); // 1, 3

// 剩余元素
const [head, ...tail] = numbers;
console.log(head); // 1
console.log(tail); // [2, 3, 4, 5]
```

### 对象解构

```javascript
const person = {
  name: 'Alice',
  age: 30,
  city: 'New York'
};

// 基本解构
const { name, age } = person;

// 重命名变量
const { name: fullName, age: years } = person;

// 默认值
const { country = 'USA' } = person;
```

## 模板字符串

模板字符串使字符串拼接更加直观：

```javascript
const name = 'World';
const greeting = `Hello, ${name}!`;

// 多行字符串
const html = `
  <div>
    <h1>${greeting}</h1>
    <p>This is a multi-line string</p>
  </div>
`;

// 标签模板
function highlight(strings, ...values) {
  return strings.reduce((result, string, i) => {
    return result + string + (values[i] ? `<mark>${values[i]}</mark>` : '');
  }, '');
}

const message = highlight`Hello ${name}, you have ${5} messages!`;
```

## 类和继承

ES6 引入了基于类的面向对象编程语法：

```javascript
class Animal {
  constructor(name, species) {
    this.name = name;
    this.species = species;
  }
  
  speak() {
    console.log(`${this.name} makes a sound`);
  }
  
  // 静态方法
  static createDog(name) {
    return new Animal(name, 'dog');
  }
}

class Dog extends Animal {
  constructor(name, breed) {
    super(name, 'dog');
    this.breed = breed;
  }
  
  speak() {
    console.log(`${this.name} barks`);
  }
  
  // getter 和 setter
  get info() {
    return `${this.name} is a ${this.breed}`;
  }
  
  set name(newName) {
    this._name = newName;
  }
}
```

## Promise 和异步编程

Promise 让异步代码更加清晰：

```javascript
// 创建 Promise
const fetchData = () => {
  return new Promise((resolve, reject) => {
    setTimeout(() => {
      const success = Math.random() > 0.5;
      if (success) {
        resolve('Data fetched successfully');
      } else {
        reject('Failed to fetch data');
      }
    }, 1000);
  });
};

// 使用 Promise
fetchData()
  .then(data => console.log(data))
  .catch(error => console.error(error));

// async/await 语法
async function getData() {
  try {
    const data = await fetchData();
    console.log(data);
  } catch (error) {
    console.error(error);
  }
}
```

## 模块系统

ES6 模块让代码组织更加清晰：

```javascript
// math.js - 导出模块
export const PI = 3.14159;

export function add(a, b) {
  return a + b;
}

export default function multiply(a, b) {
  return a * b;
}

// main.js - 导入模块
import multiply, { PI, add } from './math.js';
import * as math from './math.js';

console.log(add(2, 3)); // 5
console.log(multiply(4, 5)); // 20
console.log(PI); // 3.14159
```

## 小结

ES6+ 为 JavaScript 带来了：

1. **箭头函数** - 更简洁的函数语法
2. **解构赋值** - 方便的值提取方式
3. **模板字符串** - 更强大的字符串处理
4. **类和继承** - 面向对象编程语法
5. **Promise** - 更好的异步编程体验
6. **模块系统** - 代码组织和复用

这些特性大大提升了 JavaScript 的开发体验和代码质量。
